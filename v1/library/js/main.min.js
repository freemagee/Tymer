$(document).ready(function(){function e(){$('<div class="message complete"><span>Tymer Completed</span></div>').prependTo("body"),n(),s()}function s(){$(".tymer").removeClass("hasCountdown").countdown("pause"),$(".number.mins").text("00"),$(".number.secs").text("00"),$(".js-minutes").val("0"),$(".js-seconds").val("0"),$(".tymer-set").removeClass("hidden"),$(".tymer-control").addClass("hidden"),$(".js-pause").text("Pause").data("state",!1)}function n(){$(".message").append('<a href="#" class="btn dismiss js-dismiss">Dismiss</a>'),$(".js-dismiss").click(function(e){$(".message").remove(),e.preventDefault()}),$("html").on("keyup",function(e){27===e.keyCode&&$(".message").remove()})}function t(e){var s;return s=("0"+e).slice(-2)}function a(e,s){return 99>=e&&e>=1?!0:0==e&&s>0?!0:!1}function i(){var e=$(".tymer-set").height(),s=window.innerHeight-e,n='<style type="text/css" id="fit">.tymer { height : '+s+"px } .tymer span { line-height : "+s+"px }</style>";$("#fit").length>0&&$("#fit").remove(),$(n).appendTo("head")}$(".js-minutes").on("change",function(){var e=t($(this).val());$(".number.mins").text(e)}),$(".js-seconds").on("change",function(){var e=t($(this).val());$(".number.secs").text(e)}),$(".js-set").on("submit",function(){var s=$(".js-minutes").val(),t=$(".js-seconds").val();if(a(s,t)){var i=60*s+1*t;$(".tymer-set").addClass("hidden"),$(".tymer-control").removeClass("hidden"),$(".tymer").countdown({until:i,format:"MS",compact:!0,layout:'<span class="number mins">{mnn}</span><span class="sep">:</span><span class="number secs">{snn}</span>',onExpiry:e})}else $('<div class="message error"><span>Minimum is 10secs.<br> Maximum is 99mins.</span></div>').prependTo("body"),n();return!1}),$(".js-pause").on("click",function(){var e=$(this).data("state");e=!e,e?($(this).text("Resume"),$(".tymer").countdown("pause")):($(this).text("Pause"),$(".tymer").countdown("resume")),$(this).data("state",e)}),$(".js-clear").on("click",function(){return s(),!1}),i(),$(window).on("resize",function(){i()})});