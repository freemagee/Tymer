$(document).ready(function(){function t(e,t,n){var r=e.val(),s;if(t==="plus"){s=r*1+1;if(n==="min")if(r<=59){e.val(o(s));s<=60&&$(".number.mins").text(o(s))}else i(1);else if(n==="sec"&&r<=58){e.val(o(s));s<=59&&$(".number.secs").text(o(s))}}else if(t==="minus"){s=r-1;if(r>=1){e.val(o(s));s>=0&&$(".number."+n+"s").text(o(s))}}}function n(){$(".message-text").text("Tymer Completed");$(".message").addClass("complete").addClass("show");s();r()}function r(){$(".tymer").removeClass("hasCountdown").removeClass("paused").countdown("pause");$(".number.mins").text("00");$(".number.secs").text("00");$(".js-minutes").val("00");$(".js-seconds").val("00");$(".tymer-set").addClass("active");$(".tymer-clear").removeClass("active");$(".js-pause").text("Pause").data("state",!1)}function i(t){var n="There has been an error";t===0?n="Please enter a time":t===1&&(n="Maximum Tymer is 60 minutes");$(".message-text").text(n);$(".message").addClass("error").addClass("show");s();clearInterval(e)}function s(){var e=$(".message");e.click(function(e){$(this).removeClass("show");e.preventDefault()});$("html").on("keyup",function(t){t.keyCode===27&&e.removeClass("show")})}function o(e){var t;e<10?t=("0"+e).slice(-2):t=e;return t}function u(e,t){var n=parseInt(e,10),r=parseInt(t,10);return n<=60&&n>=1?!0:n===0&&r>0?!0:!1}function a(){function l(){var e;a<s?e=Math.floor(u/100*95):a*4+a/100*10>i?e=s*t:e=o;output='<style type="text/css" id="fit">';output+=".tymer { height : "+r+"px } ";output+=".tymer span { line-height : "+r+"px; ";output+="font-size: "+e+"px; }";output+="</style>";return output}var e=16,t=1.71,n=$(".tymer-set").height(),r=window.innerHeight-n,i=window.innerWidth,s=Math.floor(i/100*24),o=parseFloat($(".tymer span").css("font-size")),u=r,a=Math.floor(u/t),f=l();$("#fit").length>0&&$("#fit").remove();$(f).appendTo("head")}var e;$(".tymer").addClass("active");$(".tymer-set").addClass("active");$(".js-minutes").on("change",function(){var t=o($(this).val());clearInterval(e);if(t<=59)$(".number.mins").text(t);else if(t==60){$(".number.mins").text(t);$(".number.secs").text("00")}else{i(1);$(this).val(60);$(".number.mins").text(60)}});$(".js-seconds").on("change",function(){var t=o($(this).val()),n=o($(".js-minutes").val());clearInterval(e);if(t<=59)if(n!=60)$(".number.secs").text(t);else{i(1);$(this).val(0);$(".number.secs").text("00")}else{$(this).val(0);$(".number.secs").text("00")}});$(".tymer").on("click",function(){var e=$(this).hasClass("hasCountdown");if(!e){var t=$(".js-minutes").val(),r=$(".js-seconds").val();if(u(t,r)){var s=t*60+r*1;$(".tymer-set").removeClass("active");$(".tymer-clear").addClass("active");$(".tymer").countdown({until:s,format:"MS",compact:!0,layout:'<span class="number mins">{mnn}</span><span class="sep"></span><span class="number secs">{snn}</span>',onExpiry:n})}else i(0)}else{var o=$(this).data("state");o=!o;o?$(this).countdown("pause").addClass("paused"):$(this).countdown("resume").removeClass("paused");$(this).data("state",o)}return!1});$(".js-clear").on("click",function(){r();return!1});$(".js-mins-minus").on("mousedown",function(){var n=$(".js-minutes");t(n,"minus","min");e=setInterval(function(){t(n,"minus","min")},300)}).on("mouseup",function(){clearInterval(e)});$(".js-mins-plus").on("mousedown",function(){var n=$(".js-minutes");t(n,"plus","min");e=setInterval(function(){t(n,"plus","min")},300)}).on("mouseup",function(){clearInterval(e)});$(".js-secs-minus").on("mousedown",function(){var n=$(".js-seconds");t(n,"minus","sec");e=setInterval(function(){t(n,"minus","sec")},300)}).on("mouseup",function(){clearInterval(e)});$(".js-secs-plus").on("mousedown",function(){var n=$(".js-seconds");t(n,"plus","sec");e=setInterval(function(){t(n,"plus","sec")},300)}).on("mouseup",function(){clearInterval(e)});a();$(window).on("resize",function(){a()})});